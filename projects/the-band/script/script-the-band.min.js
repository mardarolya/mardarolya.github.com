function slideMembers(a){for(var b=document.querySelector(".about"),c=document.querySelectorAll(".members ul:first-child li"),d=document.querySelectorAll(".members ul:last-child li"),e=0,f=c.length;f>e;e++)if(c[e].classList.contains("active")){c[e].classList.remove("active"),d[e].classList.remove("active"),"next"==a?(e+=1,e=e==f?0:e):"prev"==a&&(e-=1,e=-1==e?f-1:e),c[e].classList.add("active"),d[e].classList.add("active");var g=c[e].textContent.split(" ")[0],h=c[e].textContent.split(" ")[1],i=d[e].textContent.toLowerCase(),j=b.querySelector(".member-name .light-coffee");j.textContent=g.toUpperCase();var k=b.querySelector(".member-name .dark-coffee");k.textContent=h.toUpperCase();var l=b.querySelector(".photo img"),m=l.src.split("/");m.pop(),m.push("member-"+i+".jpg"),l.src=m.join("/");break}}function letMusicPlay(){playSong=document.querySelectorAll(".list-songs .play");for(var a=document.querySelector(".current-album h3").textContent.toLowerCase(),b=a.split(" ").join("-"),c=function(c,d){playSong[c].addEventListener("click",function(d){pauseSong.classList.remove("is-none"),doSong.classList.add("is-none");for(var e=0,f=playSong.length;f>e;e++)if(playSong[e].classList.contains("in-process")){playSong[e].classList.remove("in-process");break}playSong[c].classList.add("in-process");var g=playSong[c].parentElement,h=g.querySelector("span").textContent,i=h.toLowerCase().split(" ");i.shift();for(var j=i.join("-"),k="",l=0,m=albums.length;m>l;l++)if(albums[l].name.toLowerCase()==a){for(var n=0,o=albums[l].songs.length;o>n;n++)if(albums[l].songs[n].name.toLowerCase()==i.join(" ")){k=albums[l].songs[n].time;break}break}try{song.src="songs/"+b+"/"+j+".mp3",song.play(),circle.style.left="0px";var p=k.split(":"),q=1e3*(60*parseInt(p[0])+parseInt(p[1]));widthTrack=.9*parseInt(turntable.offsetWidth)-30,interval=Math.round(q/widthTrack);var r=.02*parseInt(turntable.offsetWidth);step=r,circle.style.left=r+"px",done.style.width="4px",willDo.style.left=r+"px",willDo.style.width=.88*parseInt(turntable.offsetWidth)+"px";clearInterval(timerId),timerId=setInterval(goTurntable,interval)}catch(t){console.log(t)}})},d=0,e=playSong.length;e>d;d++)c(d,e)}function goTurntable(){step++,circle.style.left=step+"px",done.style.width=leftDo+step+"px",willDo.style.left=leftDo+step+"px";var a=willDo.offsetWidth;willDo.style.width=a-1+"px";var b=parseInt(circle.style.left);b>widthTrack&&(clearInterval(timerId),song.pause())}function mooveListTours(a){if(widthDates>widthConteiner){var b=parseInt(blockDates.style.getPropertyValue("transform").split("(")[1]),c=b*widthDates/100+widthConteiner/2,d=widthDates-widthConteiner+c,e=widthDates-widthConteiner;"next"==a?Math.abs(c)<e&&(b-=5):"prev"==a&&Math.abs(d)<e&&(b+=5),blockDates.style.setProperty("transform","translateX("+b+"%)")}}var memberNext=document.querySelector(".about .next"),memberPrev=document.querySelector(".about .prev"),listenAlbum=document.querySelectorAll(".discography .albums .listen"),song=new Audio,playSong=document.querySelectorAll(".list-songs .play"),turntable=document.querySelector(".turntable"),circle=turntable.querySelector(".progress"),done=turntable.querySelector(".done"),willDo=turntable.querySelector(".will-do"),pauseSong=turntable.querySelector(".pause"),doSong=turntable.querySelector(".play"),prevSong=turntable.querySelector(".prev"),nextSong=turntable.querySelector(".next"),step=0,widthTrack=0,interval=0,timerId=0,leftDo=0,albums=[{name:"Surprise without Flaws",songs:[{num:"01",name:"Clouds In The Forest",time:"3:20"},{num:"02",name:"Rat In The River",time:"2:48"},{num:"03",name:"Giants And Companions",time:"2:27"},{num:"04",name:"Ashamed Of Light",time:"3:32"},{num:"05",name:"Doubting The Forest",time:"2:40"},{num:"06",name:"Criminals Of The Lake",time:"2:50"},{num:"07",name:"Curse Of Eternity",time:"1:33"},{num:"08",name:"Fog In My Town",time:"1:33"},{num:"09",name:"Serpent In The Mountains",time:"3:24"}]},{name:"Mists Of A Shadow",songs:[{num:"01",name:"Horses In The Forest",time:"2:20"},{num:"02",name:"Box In The River",time:"1:48"},{num:"03",name:"Mardar And Companions",time:"1:27"},{num:"04",name:"Fairy Of Light",time:"2:32"},{num:"05",name:"Drawing The Forest",time:"3:40"},{num:"06",name:"Women Of The Lake",time:"3:50"},{num:"07",name:"Roses Of Eternity",time:"3:33"},{num:"08",name:"Dog In My Town",time:"3:33"},{num:"09",name:"Gradient In The Mountains",time:"2:24"}]},{name:"Heroes Of The Sun",songs:[{num:"01",name:"Loups In The Forest",time:"2:20"},{num:"02",name:"Mat In The River",time:"1:48"},{num:"03",name:"Business And Companions",time:"1:27"},{num:"04",name:"Raining Of Light",time:"1:32"},{num:"05",name:"Smile The Forest",time:"6:40"},{num:"06",name:"Face Of The Lake",time:"5:50"},{num:"07",name:"Mouse Of Eternity",time:"2:33"},{num:"08",name:"Me In My Town",time:"5:33"},{num:"09",name:"Threes In The Mountains",time:"1:24"}]},{name:"Picure Of The Past",songs:[{num:"01",name:"Sun In The Forest",time:"2:20"},{num:"02",name:"Light In The River",time:"4:48"},{num:"03",name:"Boss And Companions",time:"6:27"},{num:"04",name:"Cry Of Light",time:"2:32"},{num:"05",name:"Fox The Forest",time:"3:40"},{num:"06",name:"Bottom Of The Lake",time:"1:50"},{num:"07",name:"Nurse Of Eternity",time:"1:33"},{num:"08",name:"Rock In My Town",time:"1:33"},{num:"09",name:"Luck In The Mountains",time:"2:24"},{num:"10",name:"Luck In The Mountains",time:"2:24"}]}];letMusicPlay();for(var i=0,max=listenAlbum.length;max>i;i++)listenAlbum[i].addEventListener("click",function(a){if(a.preventDefault(),doSong.classList.contains("is-none")&&pauseSong.click(),parseInt(done.style.width)>4){widthTrack=.9*parseInt(turntable.offsetWidth)-30;var b=.02*parseInt(turntable.offsetWidth);step=b,circle.style.left=b+"px",done.style.width="4px",willDo.style.left=b+"px",willDo.style.width=.88*parseInt(turntable.offsetWidth)+"px",song.src=""}for(var c=this.parentElement.parentElement.querySelector("td:first-child").textContent,d=0,e=0,f=albums.length;f>e;e++)if(albums[e].name==c){d=e;break}var g=document.querySelector(".songs"),h=g.querySelector(".name-album"),i=g.querySelector(".name-song"),j=g.querySelector(".current-album"),k=g.querySelector(".current-album h3"),l=g.querySelector(".current-album .list-songs"),m=g.querySelector(".current-album .time-songs");h.textContent=c,k.textContent=c,i.textContent=albums[d].songs[0].name;var n=document.createElement("ul");n.className="list-songs";var o=document.createElement("ul");o.className="time-songs";for(var p=0,q=albums[d].songs.length;q>p;p++){var r=document.createElement("li");r.innerHTML="<button class='play'></button><span>"+albums[d].songs[p].num+". "+albums[d].songs[p].name+"</span>",n.appendChild(r);var s=document.createElement("li");s.innerHTML='<span class="dots"></span><span class="time">'+albums[d].songs[p].time+"</span>",o.appendChild(s)}j.replaceChild(n,l),j.replaceChild(o,m),letMusicPlay()});memberNext.addEventListener("click",function(a){a.preventDefault(),slideMembers("next")}),memberPrev.addEventListener("click",function(a){a.preventDefault(),slideMembers("prev")}),pauseSong.addEventListener("click",function(){song.pause(),clearInterval(timerId),pauseSong.classList.add("is-none"),doSong.classList.remove("is-none")}),doSong.addEventListener("click",function(){-1==song.src.indexOf(".mp3")?playSong[0].click():(song.play(),timerId=setInterval(goTurntable,interval)),pauseSong.classList.remove("is-none"),doSong.classList.add("is-none")}),nextSong.addEventListener("click",function(){var a=document.querySelector(".list-songs .play.in-process").parentElement.nextElementSibling;a.querySelector(".play").click()}),prevSong.addEventListener("click",function(){var a=document.querySelector(".list-songs .play.in-process").parentElement.previousElementSibling;a.querySelector(".play").click()});var blockContainer=document.querySelector(".tours-list"),blockDates=blockContainer.querySelector(".content-tour-list"),nextEvent=blockContainer.querySelector(".next"),prevEvent=blockContainer.querySelector(".prev"),widthConteiner=blockContainer.offsetWidth,widthDates=blockDates.offsetWidth;blockDates.style.setProperty("transform","translateX(-50%)"),nextEvent.addEventListener("click",function(a){a.preventDefault(),mooveListTours("next")}),prevEvent.addEventListener("click",function(a){a.preventDefault(),mooveListTours("prev")});