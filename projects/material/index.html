<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width,initial-scale=1.0,maximum-scale=1">
    <link href="node_modules/angular-material/angular-material.min.css" rel="stylesheet"/>
    <link href="icons/css/styles.min.css" rel="stylesheet"/>
    <link href="css/style.css" rel="stylesheet"/>
    <title>TestApp</title>
  </head>
  <body  ng-app="TestApp" ng-controller="taskController as c" layout="column">
    <md-progress-linear md-mode="indeterminate" ng-show="loading"></md-progress-linear>
    <div class="conteiner" layout="row" ng-show="!loading">
      <md-sidenav md-is-locked-open="true" class="dark-background">
        <div layout="column" class="conteiner-sidebar">
          <md-list-item class="user">
            <span class="with-frame">
              <img ng-src="images/TrevorReyes.jpg" class="md-avatar" width="50" height="50">  
            </span>             
            <span class="name-user">
              {{currentUser}}
            </span>
          </md-list-item>

          <div class="projects full-width">
            <span class="to-left">Projects
            </span>
            <md-button class="add-project" ng-click="c.showPanel('project', 'Create new project', '')">
              <span class="icons8-plus">
              </span>
            </md-button>

          </div>

          <div ng-repeat="project in projects" class="item-project">
              <md-button class="full-width list-item" ng-click="c.getTasks(project.Project.id)">
                <span class="to-left">
                  {{project.Project.title}}
                </span>
                <span class="to-right">
                  {{project.Project.task_count}}
                </span>                
              </md-button>  
          </div> 

        </div>

        <md-list-item class="log-out">
          <md-button>
            <span class="to-left no-transform">
                Log Out
            </span>
          </md-button>  
        </md-list-item>  
          
      </md-sidenav>

      <md-content flex> 
        <md-input-container md-no-float="" class="md-block search">
          <input>
        </md-input-container>

        <md-button class="button-search">
          <i class="icons8-search"></i>
        </md-button>
          
        <md-button class="icons8-more button-more">
        </md-button>

        <div layout="column" class="task-conteiner">
          <div ng-repeat = "task in tasks" class="task">
            <span class="task-date">
              {{task.date}}
            </span>
            <md-card>
              <md-card-content ng-repeat = "name in task.names" ng-click="c.showPanel('taskView', name.name, name.description)">
                <md-radio-group ng-model="data.group1">
                  <md-radio-button class="md-primary" value="false">
                    <span> {{name.name}}</span>
                  </md-radio-button>
                </md-radio-group>
              </md-card-content>
            </md-card>
          </div>
        </div>
      </md-content> 

      <md-button class="md-fab add-task" aria-label="Add task" ng-click="c.showPanel('taskCreate', 'Create new task', '')">
            <i class="icons8-plus"></i>
      </md-button>

      <div class="for-right-panel" ng-show="showRightPanel">
        <div class="right-panel">
          <div class="head-panel">
            <md-button class="close icons8-delete-2" ng-click="c.closePanel()">
              <span>ESC</span>
            </md-button>
            <h2> {{panelHeader}} </h2>
            <div class="panel-actions"  ng-show = "isOpenTask">
              <md-button class="edit icons8-edit"></md-button>
              <md-button class="delete icons8-delete"></md-button>
            </div>
          </div>
          <div class="panel-body" ng-show = "isOpenTask"> 
            {{panelBody}}
          </div>
          
          <div class="new-task" ng-show = "!isOpenTask">
            <div layout-gt-sm="row" ng-show = "isAddTask">
              <md-input-container class="md-block" flex-gt-sm="">
                <label>Task name</label>
                <input ng-model="c.newTaskName">
              </md-input-container>
            </div>
            <div layout-gt-sm="row" ng-show = "isAddTask">
              <md-input-container class="md-block" flex-gt-sm="">
                <label>Description</label>
                <input ng-model="c.newTaskDescription">
              </md-input-container>
            </div>
            <div layout-gt-sm="row" ng-show = "isAddProject">
              <md-input-container class="md-block" flex-gt-sm="">
                <label>ProjectName</label>
                <input ng-model="c.newProject">
              </md-input-container>
            </div>
          </div>

          <md-button class="md-fab check-task" aria-label="Check task" ng-click="c.okPanel()" ng-show="!isOpenTask">
            <i class="icons8-checkmark"></i>
          </md-button>  
      </md-button>
        </div>
      </div>
    </div>

    
    
    <script src="node_modules/angular/angular.min.js" type="text/javascript">		</script>
    <script src="node_modules/angular-animate/angular-animate.js" type="text/javascript">		</script>
    <script src="node_modules/angular-aria/angular-aria.js" type="text/javascript">		</script>
    <script src="node_modules/angular-material/angular-material.min.js" type="text/javascript">		</script>
    <script src="testApp.js" type="text/javascript"></script>
  </body>
</html>